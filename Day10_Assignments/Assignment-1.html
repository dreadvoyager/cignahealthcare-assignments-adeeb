<!doctype html>
<html>
<head><meta charset="utf-8"><title>Delegation Example</title></head>
<body>

    <h3>Adding Events Dynamically in JavaScript</h3>
    <hr/>

    <fieldset>
        <legend>Tasks in my Hand</legend>
        <ul id="list1" style="border:2px solid blue; padding : 30px;">
            <li>Send E-mail <a href="#" class="delete-link" style="color:red; margin-left:10px;">Delete</a></li>
            <li>Do Shopping <a href="#" class="delete-link" style="color:red; margin-left:10px;">Delete</a></li>
        </ul>

    </fieldset>
  <br/>
  <input  id="t1" placeholder="New Task Info..." type="text"  />
  <button id="addButton">Add Task</button>

  <script>

    const listObj = document.getElementById("list1");
    const btnObj = document.getElementById("addButton"); 

    listObj.addEventListener("click", function(event)
    {
        
        if (event.target.classList.contains("delete-link")) {
            event.preventDefault();
            const li = event.target.closest("li");
            if (li) {
                li.remove();
            }
            return;
        }

       
        if( event.target.tagName == "LI" )
        {           
          if( event.target.style.textDecoration == "line-through")
          {
             event.target.style.textDecoration = "none";
          }
          else
          {
            event.target.style.textDecoration = "line-through";
          }
        }
    });

    btnObj.addEventListener("click", function(event)
    {
         var listItemObj = document.createElement("LI");				 
         var textObj = document.getElementById("t1");				 
         listItemObj.innerText =  textObj.value;

        
         var deleteLink = document.createElement("a");
         deleteLink.href = "#";
         deleteLink.className = "delete-link";
         deleteLink.style.color = "red";
         deleteLink.style.marginLeft = "20px";
         deleteLink.innerText = "Delete";
         listItemObj.appendChild(document.createTextNode(" "));
         listItemObj.appendChild(deleteLink);

         listObj.appendChild(listItemObj);
         textObj.value = "";
    });

  </script>
</body>
</html>
